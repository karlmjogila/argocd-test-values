# Base configuration - shared across all environments
# Using common-service chart structure

global:
  name: "nginx-test"
  namespace: "test-nginx-test"
  labels:
    app.kubernetes.io/component: webserver
    owner: test-team

deployments:
  api:
    image: "docker.io/nginx:1.27"
    minReplicas: 1
    maxReplicas: 1

    ports:
      - port: 80
        targetPort: 80

    resources:
      requests:
        cpu: 50m
        memory: 64Mi
      limits:
        cpu: 100m
        memory: 128Mi

    livenessProbe:
      httpGet:
        path: /
        port: 80
      initialDelaySeconds: 10
      periodSeconds: 10

    readinessProbe:
      httpGet:
        path: /
        port: 80
      initialDelaySeconds: 5
      periodSeconds: 5
